---
title: 'Setting Up Read-Only Credentials'
description: 'Step-by-step guides to create secure read-only access credentials for CloudThinker connections'
---

# Setting Up Read-Only Credentials

Follow these guides to create secure, read-only access credentials for your CloudThinker connections. Using read-only credentials is a security best practice that allows CloudThinker to analyze your infrastructure without the ability to make changes.

<Warning>
Always use the principle of least privilege when setting up credentials. Grant only the minimum permissions necessary for CloudThinker to perform its analysis and monitoring functions.
</Warning>

## Cloud Providers

<CardGroup cols={3}>
  <Card title="AWS Credentials" icon="aws" color="#FF9900" href="#aws-credentials">
    Create IAM users with read-only permissions for AWS services
  </Card>
  <Card title="Google Cloud Credentials" icon="google-cloud" color="#4285F4" href="#google-cloud-credentials">
    Set up service accounts with viewer roles for GCP resources
  </Card>
  <Card title="Azure Credentials" icon="microsoft-azure" color="#0078D4" href="#azure-credentials">
    Configure service principals with read permissions for Azure resources
  </Card>
</CardGroup>

## Databases & Services

<CardGroup cols={3}>
  <Card title="PostgreSQL" icon="database" color="#336791" href="#postgresql-credentials">
    Create read-only database users for PostgreSQL connections
  </Card>
  <Card title="MySQL" icon="database" color="#4479A1" href="#mysql-credentials">
    Set up read-only users for MySQL database monitoring
  </Card>
  <Card title="Kubernetes" icon="dharmachakra" color="#326CE5" href="#kubernetes-credentials">
    Configure service accounts with view-only cluster access
  </Card>
</CardGroup>

---

## AWS Credentials

Create an IAM user with read-only permissions for CloudThinker to access your AWS resources.

### Step 1: Create IAM User

<Steps>
  <Step title="Open AWS Console">
    Navigate to the [AWS IAM Console](https://console.aws.amazon.com/iam/) and sign in to your account.
  </Step>
  <Step title="Create New User">
    Click **Users** → **Create user** and enter a username (e.g., `cloudthinker-readonly`).
  </Step>
  <Step title="Set Permissions">
    Choose **Attach policies directly** and search for the following read-only policies:
    - `ReadOnlyAccess` (comprehensive read-only access)
    - Or specific policies like `AmazonEC2ReadOnlyAccess`, `AmazonS3ReadOnlyAccess`, etc.
  </Step>
  <Step title="Review and Create">
    Review the configuration and click **Create user**.
  </Step>
</Steps>

### Step 2: Generate Access Keys

<Steps>
  <Step title="Select User">
    Click on the newly created user from the Users list.
  </Step>
  <Step title="Create Access Key">
    Go to **Security credentials** tab → **Create access key**.
  </Step>
  <Step title="Choose Use Case">
    Select **Third-party service** and acknowledge the recommendation.
  </Step>
  <Step title="Save Credentials">
    **Important**: Copy and securely store both the Access Key ID and Secret Access Key.
  </Step>
</Steps>

### Connection Details

You'll need:
- **Access Key ID**: The access key for your IAM user
- **Secret Access Key**: The secret key for your IAM user
- **Region**: Your preferred AWS region (e.g., `us-east-1`)



---

## Google Cloud Credentials

Set up a service account with viewer permissions for CloudThinker to access your GCP resources.

### Step 1: Create Service Account

<Steps>
  <Step title="Open GCP Console">
    Go to the [Google Cloud Console](https://console.cloud.google.com/) and select your project.
  </Step>
  <Step title="Navigate to IAM">
    Go to **IAM & Admin** → **Service accounts**.
  </Step>
  <Step title="Create Service Account">
    Click **Create Service Account** and enter:
    - **Name**: `cloudthinker-readonly`
    - **Description**: Read-only access for CloudThinker monitoring
  </Step>
  <Step title="Assign Roles">
    Add these roles:
    - `Viewer` (basic read access)
    - `Monitoring Viewer` (for monitoring data)
    - `Security Reviewer` (for security analysis)
  </Step>
</Steps>

### Step 2: Generate Key File

<Steps>
  <Step title="Select Service Account">
    Click on the created service account from the list.
  </Step>
  <Step title="Create Key">
    Go to **Keys** tab → **Add key** → **Create new key**.
  </Step>
  <Step title="Choose JSON Format">
    Select **JSON** and click **Create** to download the key file.
  </Step>
  <Step title="Secure Storage">
    Store the JSON key file securely and note the file path for CloudThinker configuration.
  </Step>
</Steps>

### Connection Details

You'll need:
- **Project ID**: Your GCP project identifier
- **Service Account Key**: JSON key file downloaded from GCP
- **Key File Path**: Location of the JSON key file

**Service Account Key Format:**
```json
{
  "type": "service_account",
  "project_id": "your-project-id",
  "private_key_id": "key-id",
  "private_key": "-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n",
  "client_email": "cloudthinker-readonly@your-project.iam.gserviceaccount.com",
  "client_id": "123456789012345678901",
  "auth_uri": "https://accounts.google.com/o/oauth2/auth",
  "token_uri": "https://oauth2.googleapis.com/token"
}
```


---

## Azure Credentials

Configure a service principal with read permissions for Azure resources.

### Step 1: Create Service Principal

<Steps>
  <Step title="Open Azure Portal">
    Navigate to the [Azure Portal](https://portal.azure.com/) and sign in.
  </Step>
  <Step title="Azure Active Directory">
    Go to **Azure Active Directory** → **App registrations** → **New registration**.
  </Step>
  <Step title="Register Application">
    Enter application name (e.g., `CloudThinker-ReadOnly`) and click **Register**.
  </Step>
  <Step title="Note Application Details">
    Copy and save:
    - **Application (client) ID**
    - **Directory (tenant) ID**
  </Step>
</Steps>

### Step 2: Create Client Secret

<Steps>
  <Step title="Certificates & Secrets">
    In your app registration, go to **Certificates & secrets**.
  </Step>
  <Step title="New Client Secret">
    Click **New client secret**, add a description and set expiration.
  </Step>
  <Step title="Copy Secret Value">
    **Important**: Copy the secret value immediately (it won't be shown again).
  </Step>
</Steps>

### Step 3: Assign Permissions

<Steps>
  <Step title="Subscription Access">
    Go to **Subscriptions** → Select your subscription → **Access control (IAM)**.
  </Step>
  <Step title="Add Role Assignment">
    Click **Add** → **Add role assignment**.
  </Step>
  <Step title="Assign Reader Role">
    Select **Reader** role and assign it to your service principal.
  </Step>
</Steps>

### Connection Details

You'll need these four values for CloudThinker:
- **Client ID** (Application ID)
- **Client Secret** (the secret value you copied)
- **Tenant ID** (Directory ID)  
- **Subscription ID** (from your Azure subscription)


---

## PostgreSQL Credentials

Create a read-only database user for PostgreSQL monitoring.

### Step 1: Connect as Admin

<Steps>
  <Step title="Connect to Database">
    Connect to your PostgreSQL instance using an admin account (e.g., `postgres`):
    ```sql
    psql -h your-host -U postgres -d your-database
    ```
  </Step>
</Steps>

### Step 2: Create Read-Only User

<Steps>
  <Step title="Create User">
    Create a new user for CloudThinker:
    ```sql
    CREATE USER cloudthinker_readonly WITH PASSWORD 'your-secure-password';
    ```
  </Step>
  <Step title="Grant Connection">
    Allow connection to the database:
    ```sql
    GRANT CONNECT ON DATABASE your_database TO cloudthinker_readonly;
    ```
  </Step>
  <Step title="Grant Schema Usage">
    Grant usage on schemas:
    ```sql
    GRANT USAGE ON SCHEMA public TO cloudthinker_readonly;
    GRANT USAGE ON SCHEMA information_schema TO cloudthinker_readonly;
    ```
  </Step>
  <Step title="Grant Select Permissions">
    Grant SELECT on all tables and views:
    ```sql
    GRANT SELECT ON ALL TABLES IN SCHEMA public TO cloudthinker_readonly;
    GRANT SELECT ON ALL TABLES IN SCHEMA information_schema TO cloudthinker_readonly;
    ```
  </Step>
</Steps>

### Connection Details

You'll need:
- **Host**: Your PostgreSQL server hostname
- **Port**: Usually 5432
- **Database**: Database name
- **Username**: `cloudthinker_readonly`
- **Password**: The password you set

**Connection String Format:**
```
postgresql://cloudthinker_readonly:your-secure-password@your-host:5432/your-database
```

**Example:**
```
postgresql://cloudthinker_readonly:mypassword123@db.example.com:5432/production
```

---

## MySQL Credentials

Set up a read-only user for MySQL database monitoring.

### Step 1: Create Read-Only User

<Steps>
  <Step title="Connect as Root">
    Connect to MySQL as root or admin user:
    ```sql
    mysql -h your-host -u root -p
    ```
  </Step>
  <Step title="Create User">
    Create the CloudThinker user:
    ```sql
    CREATE USER 'cloudthinker_readonly'@'%' IDENTIFIED BY 'your-secure-password';
    ```
  </Step>
  <Step title="Grant Read Permissions">
    Grant SELECT privileges on all databases:
    ```sql
    GRANT SELECT ON *.* TO 'cloudthinker_readonly'@'%';
    GRANT SHOW DATABASES ON *.* TO 'cloudthinker_readonly'@'%';
    GRANT PROCESS ON *.* TO 'cloudthinker_readonly'@'%';
    ```
  </Step>
  <Step title="Apply Changes">
    Flush privileges to apply changes:
    ```sql
    FLUSH PRIVILEGES;
    ```
  </Step>
</Steps>

### Connection Details

You'll need:
- **Host**: Your MySQL server hostname
- **Port**: Usually 3306
- **Username**: `cloudthinker_readonly`
- **Password**: The password you set

**Connection String Format:**
```
mysql://cloudthinker_readonly:your-secure-password@your-host:3306/database-name
```

**Example:**
```
mysql://cloudthinker_readonly:mypassword123@mysql.example.com:3306/production
```

---

## Kubernetes Credentials

Configure a service account with view-only access to your Kubernetes cluster.

### Step 1: Create Service Account

<Steps>
  <Step title="Create Namespace">
    Create a dedicated namespace (optional):
    ```yaml
    apiVersion: v1
    kind: Namespace
    metadata:
      name: cloudthinker
    ```
  </Step>
  <Step title="Create Service Account">
    Create the service account:
    ```yaml
    apiVersion: v1
    kind: ServiceAccount
    metadata:
      name: cloudthinker-readonly
      namespace: cloudthinker
    ```
  </Step>
</Steps>

### Step 2: Create ClusterRole and Binding

<Steps>
  <Step title="Create ClusterRole">
    Define read-only permissions:
    ```yaml
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRole
    metadata:
      name: cloudthinker-readonly
    rules:
    - apiGroups: [""]
      resources: ["*"]
      verbs: ["get", "list", "watch"]
    - apiGroups: ["apps", "extensions"]
      resources: ["*"]
      verbs: ["get", "list", "watch"]
    ```
  </Step>
  <Step title="Create ClusterRoleBinding">
    Bind the role to the service account:
    ```yaml
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRoleBinding
    metadata:
      name: cloudthinker-readonly
    roleRef:
      apiGroup: rbac.authorization.k8s.io
      kind: ClusterRole
      name: cloudthinker-readonly
    subjects:
    - kind: ServiceAccount
      name: cloudthinker-readonly
      namespace: cloudthinker
    ```
  </Step>
</Steps>

### Step 3: Get Access Token

<Steps>
  <Step title="Create Token">
    Generate a token for the service account:
    ```bash
    kubectl create token cloudthinker-readonly -n cloudthinker
    ```
  </Step>
  <Step title="Get Cluster Info">
    Get your cluster endpoint:
    ```bash
    kubectl cluster-info
    ```
  </Step>
</Steps>

### Connection Details

You'll need:
- **Cluster Endpoint**: Your Kubernetes API server URL
- **Token**: The service account token
- **Certificate**: Cluster CA certificate (from kubeconfig)

**Kubeconfig Format:**
```yaml
apiVersion: v1
kind: Config
clusters:
- cluster:
    certificate-authority-data: <base64-encoded-ca-cert>
    server: https://your-cluster-endpoint:6443
  name: your-cluster
contexts:
- context:
    cluster: your-cluster
    user: cloudthinker-readonly
  name: cloudthinker-context
current-context: cloudthinker-context
users:
- name: cloudthinker-readonly
  user:
    token: <your-service-account-token>
```


---

## Security Best Practices

<CardGroup cols={2}>
  <Card title="Credential Rotation" icon="rotate">
    - Rotate access keys and passwords regularly (every 90 days)
    - Use short-lived tokens when possible
    - Monitor credential usage and access logs
  </Card>
  <Card title="Network Security" icon="shield-alt">
    - Use TLS/SSL for all database connections
    - Implement IP whitelisting where possible
    - Use VPN or private networks for sensitive resources
  </Card>
  <Card title="Monitoring" icon="eye">
    - Enable audit logging for all services
    - Monitor for unusual access patterns
    - Set up alerts for credential misuse
  </Card>
  <Card title="Storage" icon="lock">
    - Store credentials in secure credential managers
    - Never commit credentials to version control
    - Use environment variables or secure configuration
  </Card>
</CardGroup>

## Troubleshooting

<Accordion title="Authentication Failures">
**Common Issues:**
- Expired or invalid credentials
- Incorrect permissions or roles
- Network connectivity problems
- Service endpoint changes

**Solutions:**
- Verify credentials are current and valid
- Check that required permissions are granted
- Test network connectivity to services
- Confirm service endpoints haven't changed
</Accordion>

<Accordion title="Permission Denied Errors">
**Common Causes:**
- Insufficient read permissions
- Missing resource access
- Policy restrictions
- Service-specific permission requirements

**Troubleshooting:**
- Review and expand read-only permissions
- Check resource-specific access requirements
- Verify policy configurations
- Consult service documentation for required permissions
</Accordion>

## Next Steps

<CardGroup cols={2}>
  <Card title="Connect Services" icon="plug" href="/guide/connections">
    Use your credentials to set up connections in CloudThinker
  </Card>
  <Card title="Test Connections" icon="check-circle" href="/guide/connections">
    Verify your connections are working properly
  </Card>
</CardGroup>